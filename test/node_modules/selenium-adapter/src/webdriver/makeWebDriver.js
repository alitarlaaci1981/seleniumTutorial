'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (name, options = {}) {
  (0, _setDriverPaths2.default)();

  const builder = new _seleniumWebdriver.Builder().forBrowser(name);

  if (name === 'chrome') {
    const chromeOptions = new _chrome.Options();
    for (const [key, value] of Object.entries(options)) {
      if (typeof value === 'string') {
        chromeOptions.addArguments(`${key}=${value}`);
      } else if (value) {
        chromeOptions.addArguments(key);
      }
    }
    builder.setChromeOptions(chromeOptions);
  }

  return builder.build();
};

var _seleniumWebdriver = require('selenium-webdriver');

var _chrome = require('selenium-webdriver/chrome');

var _setDriverPaths = require('./setDriverPaths');

var _setDriverPaths2 = _interopRequireDefault(_setDriverPaths);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ha2VXZWJEcml2ZXIuanMiXSwibmFtZXMiOlsibmFtZSIsIm9wdGlvbnMiLCJidWlsZGVyIiwiZm9yQnJvd3NlciIsImNocm9tZU9wdGlvbnMiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJhZGRBcmd1bWVudHMiLCJzZXRDaHJvbWVPcHRpb25zIiwiYnVpbGQiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFTZSxVQUNiQSxJQURhLEVBRWJDLFVBQW1CLEVBRk4sRUFHRjtBQUNYOztBQUVBLFFBQU1DLFVBQVUsaUNBQWNDLFVBQWQsQ0FBeUJILElBQXpCLENBQWhCOztBQUVBLE1BQUlBLFNBQVMsUUFBYixFQUF1QjtBQUNyQixVQUFNSSxnQkFBZ0IscUJBQXRCO0FBQ0EsU0FBSyxNQUFNLENBQUNDLEdBQUQsRUFBTUMsS0FBTixDQUFYLElBQTJCQyxPQUFPQyxPQUFQLENBQWVQLE9BQWYsQ0FBM0IsRUFBb0Q7QUFDbEQsVUFBSSxPQUFPSyxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzdCRixzQkFBY0ssWUFBZCxDQUE0QixHQUFFSixHQUFJLElBQUdDLEtBQU0sRUFBM0M7QUFDRCxPQUZELE1BRU8sSUFBSUEsS0FBSixFQUFXO0FBQ2hCRixzQkFBY0ssWUFBZCxDQUEyQkosR0FBM0I7QUFDRDtBQUNGO0FBQ0RILFlBQVFRLGdCQUFSLENBQXlCTixhQUF6QjtBQUNEOztBQUVELFNBQU9GLFFBQVFTLEtBQVIsRUFBUDtBQUNELEM7O0FBN0JEOztBQUNBOztBQUVBIiwiZmlsZSI6Im1ha2VXZWJEcml2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuaW1wb3J0IHsgQnVpbGRlciB9IGZyb20gJ3NlbGVuaXVtLXdlYmRyaXZlcidcbmltcG9ydCB7IE9wdGlvbnMgYXMgQ2hyb21lT3B0aW9ucyB9IGZyb20gJ3NlbGVuaXVtLXdlYmRyaXZlci9jaHJvbWUnXG5pbXBvcnQgdHlwZSB7IFdlYkRyaXZlciB9IGZyb20gJy4vJ1xuaW1wb3J0IHNldERyaXZlclBhdGhzIGZyb20gJy4vc2V0RHJpdmVyUGF0aHMnXG5cbnR5cGUgV2ViRHJpdmVyQnJvd3Nlck5hbWUgPSAnY2hyb21lJyB8ICdmaXJlZm94JyB8ICdwaGFudG9tanMnXG50eXBlIE9wdGlvbnMgPSB7IFtzdHJpbmddOiBzdHJpbmcgfCBib29sZWFuIH1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXG4gIG5hbWU6IFdlYkRyaXZlckJyb3dzZXJOYW1lLFxuICBvcHRpb25zOiBPcHRpb25zID0ge31cbik6IFdlYkRyaXZlciB7XG4gIHNldERyaXZlclBhdGhzKClcblxuICBjb25zdCBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKS5mb3JCcm93c2VyKG5hbWUpXG5cbiAgaWYgKG5hbWUgPT09ICdjaHJvbWUnKSB7XG4gICAgY29uc3QgY2hyb21lT3B0aW9ucyA9IG5ldyBDaHJvbWVPcHRpb25zKClcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zKSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY2hyb21lT3B0aW9ucy5hZGRBcmd1bWVudHMoYCR7a2V5fT0ke3ZhbHVlfWApXG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIGNocm9tZU9wdGlvbnMuYWRkQXJndW1lbnRzKGtleSlcbiAgICAgIH1cbiAgICB9XG4gICAgYnVpbGRlci5zZXRDaHJvbWVPcHRpb25zKGNocm9tZU9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gYnVpbGRlci5idWlsZCgpXG59XG4iXX0=