'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _seleniumWebdriver = require('selenium-webdriver');

var _cssToXpath = require('css-to-xpath');

var _cssToXpath2 = _interopRequireDefault(_cssToXpath);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

exports.default = (() => {
  var _ref = _asyncToGenerator(function* (adapterOrElement, selector, text) {
    if (!adapterOrElement) {
      return null;
    }

    const xpath = typeof text === 'string' ? _cssToXpath2.default.parse(selector).where(_cssToXpath2.default.xPathBuilder.text().contains(text)).toXPath() : (0, _cssToXpath2.default)(selector);
    const elements = yield adapterOrElement.findElements(_seleniumWebdriver.By.xpath(xpath));
    return elements[0];
  });

  return function (_x, _x2, _x3) {
    return _ref.apply(this, arguments);
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmRFbGVtZW50LmpzIl0sIm5hbWVzIjpbImFkYXB0ZXJPckVsZW1lbnQiLCJzZWxlY3RvciIsInRleHQiLCJ4cGF0aCIsInBhcnNlIiwid2hlcmUiLCJ4UGF0aEJ1aWxkZXIiLCJjb250YWlucyIsInRvWFBhdGgiLCJlbGVtZW50cyIsImZpbmRFbGVtZW50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBS0E7O0FBQ0E7Ozs7Ozs7OzsrQkFFZSxXQUNiQSxnQkFEYSxFQUViQyxRQUZhLEVBR2JDLElBSGEsRUFJZTtBQUM1QixRQUFJLENBQUNGLGdCQUFMLEVBQXVCO0FBQ3JCLGFBQU8sSUFBUDtBQUNEOztBQUVELFVBQU1HLFFBQ0osT0FBT0QsSUFBUCxLQUFnQixRQUFoQixHQUNJLHFCQUNHRSxLQURILENBQ1NILFFBRFQsRUFFR0ksS0FGSCxDQUVTLHFCQUFXQyxZQUFYLENBQXdCSixJQUF4QixHQUErQkssUUFBL0IsQ0FBd0NMLElBQXhDLENBRlQsRUFHR00sT0FISCxFQURKLEdBS0ksMEJBQVdQLFFBQVgsQ0FOTjtBQU9BLFVBQU1RLFdBQVcsTUFBTVQsaUJBQWlCVSxZQUFqQixDQUE4QixzQkFBR1AsS0FBSCxDQUFTQSxLQUFULENBQTlCLENBQXZCO0FBQ0EsV0FBT00sU0FBUyxDQUFULENBQVA7QUFDRCxHIiwiZmlsZSI6ImZpbmRFbGVtZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cbmltcG9ydCB0eXBlIHtcbiAgV2ViRHJpdmVyLFxuICBXZWJEcml2ZXJFbGVtZW50XG59IGZyb20gJ3NlbGVuaXVtLWFkYXB0ZXIvc3JjL3dlYmRyaXZlcidcbmltcG9ydCB7IEJ5IH0gZnJvbSAnc2VsZW5pdW0td2ViZHJpdmVyJ1xuaW1wb3J0IGNzc1RvWFBhdGggZnJvbSAnY3NzLXRvLXhwYXRoJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbihcbiAgYWRhcHRlck9yRWxlbWVudDogV2ViRHJpdmVyIHwgP1dlYkRyaXZlckVsZW1lbnQsXG4gIHNlbGVjdG9yOiBzdHJpbmcsXG4gIHRleHQ6ID9zdHJpbmdcbik6IFByb21pc2U8P1dlYkRyaXZlckVsZW1lbnQ+IHtcbiAgaWYgKCFhZGFwdGVyT3JFbGVtZW50KSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHhwYXRoID1cbiAgICB0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZydcbiAgICAgID8gY3NzVG9YUGF0aFxuICAgICAgICAgIC5wYXJzZShzZWxlY3RvcilcbiAgICAgICAgICAud2hlcmUoY3NzVG9YUGF0aC54UGF0aEJ1aWxkZXIudGV4dCgpLmNvbnRhaW5zKHRleHQpKVxuICAgICAgICAgIC50b1hQYXRoKClcbiAgICAgIDogY3NzVG9YUGF0aChzZWxlY3RvcilcbiAgY29uc3QgZWxlbWVudHMgPSBhd2FpdCBhZGFwdGVyT3JFbGVtZW50LmZpbmRFbGVtZW50cyhCeS54cGF0aCh4cGF0aCkpXG4gIHJldHVybiBlbGVtZW50c1swXVxufVxuIl19